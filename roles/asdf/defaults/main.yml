---
asdf_username: "{{ ansible_user_id | default(ansible_user) }}"
asdf_usergroup: "{{ (ansible_facts['os_family'] == 'Darwin') | ternary('staff', asdf_username) }}"
asdf_user_home: >-
  {{ (ansible_facts['os_family'] == 'Darwin') | ternary(ansible_env.HOME,
     (asdf_username == 'root') | ternary('/root', '/home/' + asdf_username)) }}

asdf_bin_dir: "{{ (ansible_facts['os_family'] == 'Darwin') | ternary('/usr/local/bin', '/usr/local/bin') }}"
asdf_data_dir: "{{ asdf_user_home }}/.asdf"

asdf_shells:
  - "/usr/bin/zsh"
  - "/bin/zsh"
  - "/usr/bin/bash"
  - "/bin/bash"

asdf_shell: "{{ '/bin/zsh' if ansible_distribution == 'MacOSX' else '/bin/bash' }}"

asdf_plugins:
  # renovate: datasource=github-tags depName=golang/go versioning=semver-coerced extractVersion=^go(?<version>.*)$
  - name: golang
    version: "1.25.0"
    scope: "global"

  # renovate: datasource=github-tags depName=python/cpython versioning=pep440 extractVersion=^v(?<version>.+)$
  - name: python
    version: "3.13.6"
    scope: "global"

  # renovate: datasource=github-tags depName=ruby/ruby versioning=ruby extractVersion=^v(?<major>\d+)_(?<minor>\d+)_(?<patch>\d+)$
  - name: ruby
    version: "3.4.5"
    scope: "global"

  # renovate: datasource=github-releases depName=helm/helm
  - name: helm
    version: "3.18.0"
    scope: "global"

  # renovate: datasource=github-tags depName=kubernetes/kubernetes
  - name: kubectl
    version: "1.34.0"
    scope: "global"

  # renovate: datasource=github-releases depName=hashicorp/packer
  - name: packer
    version: "1.14.1"
    scope: "global"

  # renovate: datasource=github-tags depName=aws/aws-cli
  - name: awscli
    version: "2.24.0"
    scope: "global"
