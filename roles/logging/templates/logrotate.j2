{{ log_rotation_config.path | expanduser }} {
    rotate {{ log_rotation_config.rotate | default(30) }}
    {{ log_rotation_config.frequency | default('daily') }}
    {% if log_rotation_config.compress | default(true) %}compress{% endif %}
    {% if log_rotation_config.missingok | default(true) %}missingok{% endif %}
    {% if log_rotation_config.notifempty | default(true) %}notifempty{% endif %}
    {% if log_rotation_config.create | default(false) %}
    create {{ log_rotation_config.mode | default('0644') }} {{ log_rotation_config.owner | default(ansible_user_id) }} {{ log_rotation_config.group | default(ansible_user_gid | default(ansible_user_id)) }}
    {% endif %}
    {% if log_rotation_config.dateext | default(true) %}dateext{% endif %}
    {% if log_rotation_config.maxsize is defined %}
    maxsize {{ log_rotation_config.maxsize }}
    {% endif %}
    {% if log_rotation_config.delaycompress | default(false) %}delaycompress{% endif %}
    {% if log_rotation_config.copytruncate | default(false) %}copytruncate{% endif %}
}
