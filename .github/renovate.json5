{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: [
    "config:base",
    "docker:enableMajor",
    ":disableRateLimiting",
    ":dependencyDashboard",
    ":semanticCommits",
    ":enablePreCommit",
    ":automergeDigest",
    ":automergeBranch",
    "helpers:pinGitHubActionDigests",
  ],
  platform: "github",
  onboarding: false,
  requireConfig: "optional",
  dependencyDashboardTitle: "Renovate Dashboard ðŸ¤–",
  suppressNotifications: ["prIgnoreNotification"],
  rebaseWhen: "conflicted",
  commitBodyTable: true,
  "pre-commit": {
    enabled: true,
  },
  packageRules: [
    {
      matchManagers: ["gomod"],
      matchPackagePatterns: ["*"],
      enabled: true,
    },
    {
      description: "Auto merge GitHub Actions",
      matchManagers: ["github-actions"],
      automerge: true,
      automergeType: "pr",
    },
    // Custom rule for Ansible collection
    {
      description: "Ansible Galaxy Collection Dependencies",
      matchManagers: ["regex"],
      matchPackagePatterns: ["^ansible-galaxy$"],
      enabled: true,
      // Example versioning rule
      allowedVersions: "/^2\\.\\d+\\.\\d+$/",
    },
  ],
  customManagers: [
    {
      customType: "regex",
      fileMatch: [".sh$"],
      matchStrings: [
        "go install (?<depName>[^@]+?)@(?<currentValue>[0-9.-a-zA-Z]+)",
      ],
      datasourceTemplate: "go",
    },
    // Custom manager for Ansible dependencies
    {
      customType: "ansible-galaxy",
      fileMatch: ["^requirements\\.yml$", "^galaxy\\.yml$"],
      // Define a regex pattern to extract dependencies and versions
      matchStrings: [
        // Adjust this regex pattern based on the structure of your Ansible files
        "role: (?<depName>[^\\s]+)\\nversion: (?<currentValue>[^\\s]+)",
      ],
      datasourceTemplate: "gitTags", // or another appropriate datasource
    },
  ],
}
