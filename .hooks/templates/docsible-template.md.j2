# {{ role.name }}
{%- if role.meta.galaxy_info.description %}

## Description

{{ role.meta.galaxy_info.description }}
{%- endif %}

## Requirements

- Ansible >= {{ role.meta.galaxy_info.min_ansible_version }}
{%- if role.meta.dependencies %}

## Dependencies
{% for dep in role.meta.dependencies | sort(attribute='role') %}
- {{ dep.role }}
{%- endfor %}
{%- endif %}

## Role Variables
{%- for defaultfile in role.defaults | sort(attribute='file') %}

### Default Variables ({{ defaultfile.file }})

| Variable | Type | Default | Description |
|----------|------|---------|-------------|
{%- for key, details in defaultfile.data.items() | sort %}
{%- if not key.endswith('.0') and not key.endswith('.1') and not key.endswith('.2') and not key.endswith('.3') and not key.endswith('.4') and not key.endswith('.5') and not key.endswith('.6') and '.' not in key or key.count('.') == 1 %}
| `{{ key }}` | {{ details.type }} | `{{ details.value }}` | {{ details.description or 'No description' }} |
{%- endif %}
{%- endfor %}
{%- endfor %}
{%- if role.vars %}
{%- for varsfile in role.vars | sort(attribute='file') %}

### Role Variables ({{ varsfile.file }})

| Variable | Type | Value | Description |
|----------|------|-------|-------------|
{%- for key, details in varsfile.data.items() | sort %}
| `{{ key }}` | {{ details.type }} | `{{ details.value }}` | {{ details.description or 'No description' }} |
{%- endfor %}
{%- endfor %}
{%- endif %}

## Tasks
{%- for taskfile in role.tasks | sort(attribute='file') %}

### {{ taskfile.file }}
{% for task in taskfile.tasks %}
- **{{ task.name }}** ({{ task.module }}){% if task.when %} - Conditional{% endif %}
{%- endfor %}
{%- endfor %}

## Example Playbook

```yaml
- hosts: servers
  roles:
    - {{ role.name }}
```

## Author Information

- **Author**: {{ role.meta.galaxy_info.author }}
- **Company**: {{ role.meta.galaxy_info.company }}
- **License**: {{ role.meta.galaxy_info.license }}

## Platforms
{% for platform in role.meta.galaxy_info.platforms | sort(attribute='name') %}
- {{ platform.name }}: {{ platform.versions | sort | join(', ') }}
{%- endfor %}
